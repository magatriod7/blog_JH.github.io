---
title: Refactoring2
date: 2022-08-20
description: Refactoring2
tags:
  - refactoring
---
## 코드에서 나는 악취

이제 리팩터링이 왜 필요한지에 대해서 어느정도 감이 왔을 것입니다.
하지만 적용 방법을 아는 것과 제때 적용할 줄 아는 것은 다른 범주입니다.

리팩터링 책에서는 리팩터링이 필요한 시점을 냄새나는 코드라고 표현하고 있습니다.
재미있는 표현이라고 생각합니다.

### 1. 기이한 이름

코드를 잘 쓰기 위해서는 기본적으로 함수의 이름을 잘 짓는것이 중요합니다.
이름짓기는 간단해보이지만 가장 어려운 작업 중 하나입니다.
너무 구구절절 함수에 넣거나 비슷한 작업을 하는 함수의 이름이 비슷하면
작업에 혼동이 올 수도 있습니다.

### 2. 중복 코드

같은 코드가 반복된다면 하나로 통합하여 더 나은 프로그램으로 만들 수 있을 것입니다.

### 3. 긴 함수

함수가 필요 이상으로 길어진 경우 리팩토링이 제대로 작동하지 않았음을 이야기하기도 합니다.
긴 함수를 하나씩 확인하는 것은 너무 오랜 시간을 들이게 됩니다.
메인 함수를 짧고 간결하게 만든 뒤 호출하는 함수의 이름을 잘 지어두면
보다 편한 사용이 가능할 것입니다.

### 4. 긴 매개변수 목록

필요하고 사용되는 매개변수가 너무 많을 경우 코드를 이해하기가 어려워 질 것입니다.

### 5. 전역 데이터

리팩토링의 저자는 전역 데이터를 사용하는 것이 가장 악취를 풍기는 코드라고 이야기 할 정도로
전역 데이터 사용에는 주의를 기울여야 한다고 했습니다. 다른 코드를 오염시킬 수도 있는
데이터를 최대한 지양하고 방지할 수 있도록 해야한다고 합니다.

### 6. 가변 데이터

데이터를 변경했더니 예상치 못한 결과가 나올 수도 있습니다. 이런 상황을 방지하기 위해서
기본적으로 프로그래밍은 본 데이터는 유지한 채 변경하려는 값에 해당하는 복사본을 만들어서 반환하는 것을 기본 개념으로 합니다.

### 7. 뒤엉킨 변경

우리는 소프트웨어 구조를 변경하기 쉬운 형태로 코드를 짭니다. 코드를 수정할 때는
시스템에서 고쳐야할 딱 한군데를 수정하는것이 이상적입니다. 만약 그렇지 못하는 코드면 서로 뒤엉킨
상태의 코드로 악취를 풍기는 코드일 것입니다.

### 8. 산탄총 수술

산탄총 수술은 뒤엉킨 변경과 비슷하지만 다릅니다. 뒤엉킨 변형이 많은 코드들이 꼬여있어 하나를 수정하기 위해서는
여러개를 수정해야하는 것과 달리 산탄총 수슬은 코드에 전반적으로 코드가 흩뿌려져 있어 하나를 바꿔야하면
흩뿌려진 코드 하나하나를 수정해야하는 경우입니다.

### 9. 기능 편애

// 추후 추가 예정

### 10. 데이터 뭉치

데이터 항목들은 각 함수에 필요 없는 데이터임에도 뭉쳐다니는 경우를 흔하게 볼 수 있을 것입니다.
이 경우 필요한 데이터만 남기고 필요 없는 데이터를 살제할 필요가 있습니다.

### 11. 기본형 집착

// 추후 추가 예정

### 12. 반복되는 switch문

// 추후 추가 예정

### 13. 반복문

// 추후 추가 예정

### 14. 추측성 일반화

나중에 필요할 것이라고 생각하고 만들어진 코드로 결국 이해하거나 관리가 어려워진 코드입니다.
구두쇠처럼 아끼지 말고 필요없을 것 같은 코드는 과감히 지울 필요가 있습니다.

### 15. 메시지 체인

메시지 체인은 클라이언트가 한 객체를 통해 다른 객체를 얻은 뒤 방금 얻은 객체에 또다른 객체를 요청하는 식의 방법으로
요청에 꼬리와 꼬리를 물게 됩니다.

### 16. 중개자

// 추후 추가 예정

### 17. 내부자 거래

//추후 추가 예쩡

### 18. 거대한 클래스

한 클래스가 너무 많은 일을 하게 되면 필드 수가 상당히 늘어납니다. 그리고 클래스에 필드가 너무 많으면 중복 코드가 생기기도 쉽습니다.

### 19. 서로 다른 인터페이스의 대안 클래스들

클래스의 큰 장점은 필요할 때에 따라 드른 클래스로 교체할 수 있다는 것입니다.
단, 교체하려면 인터페이스가 같아야합니다.

### 20. 상속 포기

// 추후 추가 예정

### 21. 주석

코드에 대한 설명을 주석을 달아 코드를 더 쉽게 사용할 수 있게 합니다.
가끔 주석이 너무 장황하게 달린 코드들이 보일 것인데 이 경우 잘못 작성된
코드이기 때문일 경우가 많습니다.



---
